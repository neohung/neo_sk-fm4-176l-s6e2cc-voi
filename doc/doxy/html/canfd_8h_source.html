<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>PDL for FM Family: C:/Users/chzhang/Desktop/FM0 MCU/universial PDL/release_v11f_doxy/driver/can/canfd.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="products_site_image.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">PDL for FM Family
   &#160;<span id="projectnumber">Version2.0.0</span>
   </div>
   <div id="projectbrief">FM Peripheral Driver Library</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('canfd_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">C:/Users/chzhang/Desktop/FM0 MCU/universial PDL/release_v11f_doxy/driver/can/canfd.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="canfd_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*******************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (C) 2014 Spansion LLC. All Rights Reserved.</span>
<a name="l00003"></a>00003 <span class="comment">*</span>
<a name="l00004"></a>00004 <span class="comment">* This software is owned and published by:</span>
<a name="l00005"></a>00005 <span class="comment">* Spansion LLC, 915 DeGuigne Dr. Sunnyvale, CA  94088-3453 (&quot;Spansion&quot;).</span>
<a name="l00006"></a>00006 <span class="comment">*</span>
<a name="l00007"></a>00007 <span class="comment">* BY DOWNLOADING, INSTALLING OR USING THIS SOFTWARE, YOU AGREE TO BE BOUND</span>
<a name="l00008"></a>00008 <span class="comment">* BY ALL THE TERMS AND CONDITIONS OF THIS AGREEMENT.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* This software contains source code for use with Spansion</span>
<a name="l00011"></a>00011 <span class="comment">* components. This software is licensed by Spansion to be adapted only</span>
<a name="l00012"></a>00012 <span class="comment">* for use in systems utilizing Spansion components. Spansion shall not be</span>
<a name="l00013"></a>00013 <span class="comment">* responsible for misuse or illegal use of this software for devices not</span>
<a name="l00014"></a>00014 <span class="comment">* supported herein.  Spansion is providing this software &quot;AS IS&quot; and will</span>
<a name="l00015"></a>00015 <span class="comment">* not be responsible for issues arising from incorrect user implementation</span>
<a name="l00016"></a>00016 <span class="comment">* of the software.</span>
<a name="l00017"></a>00017 <span class="comment">*</span>
<a name="l00018"></a>00018 <span class="comment">* SPANSION MAKES NO WARRANTY, EXPRESS OR IMPLIED, ARISING BY LAW OR OTHERWISE,</span>
<a name="l00019"></a>00019 <span class="comment">* REGARDING THE SOFTWARE (INCLUDING ANY ACOOMPANYING WRITTEN MATERIALS),</span>
<a name="l00020"></a>00020 <span class="comment">* ITS PERFORMANCE OR SUITABILITY FOR YOUR INTENDED USE, INCLUDING,</span>
<a name="l00021"></a>00021 <span class="comment">* WITHOUT LIMITATION, THE IMPLIED WARRANTY OF MERCHANTABILITY, THE IMPLIED</span>
<a name="l00022"></a>00022 <span class="comment">* WARRANTY OF FITNESS FOR A PARTICULAR PURPOSE OR USE, AND THE IMPLIED</span>
<a name="l00023"></a>00023 <span class="comment">* WARRANTY OF NONINFRINGEMENT.</span>
<a name="l00024"></a>00024 <span class="comment">* SPANSION SHALL HAVE NO LIABILITY (WHETHER IN CONTRACT, WARRANTY, TORT,</span>
<a name="l00025"></a>00025 <span class="comment">* NEGLIGENCE OR OTHERWISE) FOR ANY DAMAGES WHATSOEVER (INCLUDING, WITHOUT</span>
<a name="l00026"></a>00026 <span class="comment">* LIMITATION, DAMAGES FOR LOSS OF BUSINESS PROFITS, BUSINESS INTERRUPTION,</span>
<a name="l00027"></a>00027 <span class="comment">* LOSS OF BUSINESS INFORMATION, OR OTHER PECUNIARY LOSS) ARISING FROM USE OR</span>
<a name="l00028"></a>00028 <span class="comment">* INABILITY TO USE THE SOFTWARE, INCLUDING, WITHOUT LIMITATION, ANY DIRECT,</span>
<a name="l00029"></a>00029 <span class="comment">* INDIRECT, INCIDENTAL, SPECIAL OR CONSEQUENTIAL DAMAGES OR LOSS OF DATA,</span>
<a name="l00030"></a>00030 <span class="comment">* SAVINGS OR PROFITS,</span>
<a name="l00031"></a>00031 <span class="comment">* EVEN IF SPANSION HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.</span>
<a name="l00032"></a>00032 <span class="comment">* YOU ASSUME ALL RESPONSIBILITIES FOR SELECTION OF THE SOFTWARE TO ACHIEVE YOUR</span>
<a name="l00033"></a>00033 <span class="comment">* INTENDED RESULTS, AND FOR THE INSTALLATION OF, USE OF, AND RESULTS OBTAINED</span>
<a name="l00034"></a>00034 <span class="comment">* FROM, THE SOFTWARE.</span>
<a name="l00035"></a>00035 <span class="comment">*</span>
<a name="l00036"></a>00036 <span class="comment">* This software may be replicated in part or whole for the licensed use,</span>
<a name="l00037"></a>00037 <span class="comment">* with the restriction that this Disclaimer and Copyright notice must be</span>
<a name="l00038"></a>00038 <span class="comment">* included with each copy of this software, whether used in part or whole,</span>
<a name="l00039"></a>00039 <span class="comment">* at all times.</span>
<a name="l00040"></a>00040 <span class="comment">*/</span>
<a name="l00041"></a>00041 <span class="comment">/******************************************************************************/</span>
<a name="l00051"></a>00051 <span class="preprocessor">#ifndef __CANFD_H__</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor">#define __CANFD_H__</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span>
<a name="l00054"></a>00054 <span class="comment">/******************************************************************************/</span>
<a name="l00055"></a>00055 <span class="comment">/* Include files                                                              */</span>
<a name="l00056"></a>00056 <span class="comment">/******************************************************************************/</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &quot;<a class="code" href="pdl__user_8h.html">pdl_user.h</a>&quot;</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include &quot;mcu.h&quot;</span>
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="preprocessor">#if (defined(PDL_PERIPHERAL_CANFD_ACTIVE))</span>
<a name="l00061"></a>00061 <span class="preprocessor"></span>
<a name="l00062"></a>00062 <span class="comment">/* C binding of definitions if building with C++ compiler */</span>
<a name="l00063"></a>00063 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00064"></a>00064 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span>
<a name="l00065"></a>00065 {
<a name="l00066"></a>00066 <span class="preprocessor">#endif</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span>
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 <span class="comment">/******************************************************************************</span>
<a name="l00121"></a>00121 <span class="comment"> * Global definitions</span>
<a name="l00122"></a>00122 <span class="comment"> ******************************************************************************/</span>
<a name="l00123"></a>00123 
<a name="l00124"></a>00124 <span class="comment">// CANFD controller</span>
<a name="l00125"></a><a class="code" href="group___canfd_group.html#ga2728e3b895d6b89ed475573dff17ffcd">00125</a> <span class="preprocessor">#define stc_canfdn_t  FM_CANFD_TypeDef</span>
<a name="l00126"></a><a class="code" href="group___canfd_group.html#ga527619596363127718774a0f6b0f59a8">00126</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD0      (*((volatile stc_canfdn_t *)FM_CANFD0_BASE))</span>
<a name="l00127"></a>00127 <span class="preprocessor"></span>
<a name="l00129"></a><a class="code" href="group___canfd_group.html#gab224ef5ecc79b6c1b2ef5315e5282d50">00129</a> <span class="preprocessor">#define CANFD_MESSAGE_DATA_BUFFER_SIZE          64</span>
<a name="l00130"></a>00130 <span class="preprocessor"></span>
<a name="l00131"></a><a class="code" href="group___canfd_group.html#ga2a261fee136b0bc1ec7d48a8ee2874f6">00131</a> <span class="preprocessor">#define CANFD_MESSAGE_DATA_BUFFER_SIZEW         (CANFD_MESSAGE_DATA_BUFFER_SIZE / 4)</span>
<a name="l00132"></a>00132 <span class="preprocessor"></span>
<a name="l00134"></a><a class="code" href="group___canfd_group.html#ga8a27446306741c399a4c1d32b1153870">00134</a> <span class="preprocessor">#define CANFD_MESSAGE_RXBUFFER_COUNT            64</span>
<a name="l00135"></a>00135 <span class="preprocessor"></span>
<a name="l00137"></a><a class="code" href="group___canfd_group.html#ga04718ae04aefabaa93e1b6578855b07b">00137</a> <span class="preprocessor">#define CANFD_MESSAGE_RXFIFO_COUNT              32</span>
<a name="l00138"></a>00138 <span class="preprocessor"></span>
<a name="l00140"></a><a class="code" href="group___canfd_group.html#ga8bb55dda74f7c7678dec1abfa00243a2">00140</a> <span class="preprocessor">#define CANFD_MESSAGE_TXBUFFER_COUNT            32</span>
<a name="l00141"></a>00141 <span class="preprocessor"></span>
<a name="l00142"></a>00142 <span class="comment">/******************************************************************************</span>
<a name="l00143"></a>00143 <span class="comment"> * Global type definitions</span>
<a name="l00144"></a>00144 <span class="comment"> ******************************************************************************/</span>
<a name="l00145"></a>00145 
<a name="l00164"></a><a class="code" href="group___canfd_group.html#gadec48409a8c8c4c9ff335c8c1e806cdc">00164</a> <span class="preprocessor">#define CANFD_MSGIDX_MIN        (0U)        // minimum index of dedicated Rx buffer.</span>
<a name="l00165"></a><a class="code" href="group___canfd_group.html#gad699279ee04362a261d8c4dbe43fd2f3">00165</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_MSGIDX_MAX        (63U)       // maximum index of dedicated Rx buffer.</span>
<a name="l00166"></a><a class="code" href="group___canfd_group.html#gaa9e1cc34ae7f508946263eae1f389cc9">00166</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_MSGIDX_FIFO0      (254U)      // received message stored into Rx FIFO0.</span>
<a name="l00167"></a><a class="code" href="group___canfd_group.html#ga9746741b2913040e646db4834d47fa0c">00167</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_MSGIDX_FIFO1      (255U)      // received message stored into Rx FIFO1.</span>
<a name="l00168"></a>00168 <span class="preprocessor"></span>
<a name="l00169"></a><a class="code" href="group___canfd_group.html#gaeeebe8046f4682dfad1b6c0fff683a7b">00169</a> <span class="preprocessor">#define CANFD_MAX_STDDLC        (8)         // maximum data length in standard CAN operation.</span>
<a name="l00170"></a>00170 <span class="preprocessor"></span>
<a name="l00177"></a><a class="code" href="group___canfd_group.html#ga2b1ade40e768f1dfbc32d2d7bb5be407">00177</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group___canfd_group.html#ga2b1ade40e768f1dfbc32d2d7bb5be407" title="CAN operation mode.">en_canfd_mode</a>
<a name="l00178"></a>00178 {
<a name="l00179"></a><a class="code" href="group___canfd_group.html#gga2b1ade40e768f1dfbc32d2d7bb5be407a44eb462c22763989b274e14ff153bd6a">00179</a>     <a class="code" href="group___canfd_group.html#gga2b1ade40e768f1dfbc32d2d7bb5be407a44eb462c22763989b274e14ff153bd6a">CanfdModeClassic</a> = 0,   <span class="comment">// classic CAN (CAN2.0)</span>
<a name="l00180"></a><a class="code" href="group___canfd_group.html#gga2b1ade40e768f1dfbc32d2d7bb5be407a2ceeddfd490e16502c5b618c34f90a93">00180</a>     <a class="code" href="group___canfd_group.html#gga2b1ade40e768f1dfbc32d2d7bb5be407a2ceeddfd490e16502c5b618c34f90a93">CanfdModeFDFixed</a> = 1,   <span class="comment">// CAN-FD with fixed data rate</span>
<a name="l00181"></a><a class="code" href="group___canfd_group.html#gga2b1ade40e768f1dfbc32d2d7bb5be407a12570e75fa8852920e25211c6308f487">00181</a>     <a class="code" href="group___canfd_group.html#gga2b1ade40e768f1dfbc32d2d7bb5be407a12570e75fa8852920e25211c6308f487">CanfdModeFDFlex</a>  = 2    <span class="comment">// CAN-FD with flexible data rate</span>
<a name="l00182"></a>00182 } <a class="code" href="group___canfd_group.html#gab7f920ecaa9011fe38e2e1cee93550e7" title="CAN operation mode.">en_canfd_mode_t</a>;
<a name="l00183"></a>00183 
<a name="l00190"></a><a class="code" href="group___canfd_group.html#ga65c293633dae4cd996da66e6ea5ac135">00190</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group___canfd_group.html#ga65c293633dae4cd996da66e6ea5ac135" title="CAN FD operation clock frequency.">en_canfd_clock</a>
<a name="l00191"></a>00191 {
<a name="l00192"></a><a class="code" href="group___canfd_group.html#gga65c293633dae4cd996da66e6ea5ac135af8832ad4a87c9b84c072e2e6ba0b9566">00192</a>     <a class="code" href="group___canfd_group.html#gga65c293633dae4cd996da66e6ea5ac135af8832ad4a87c9b84c072e2e6ba0b9566">CanfdClock32MHz</a> = 0,    <span class="comment">// 32MHz</span>
<a name="l00193"></a><a class="code" href="group___canfd_group.html#gga65c293633dae4cd996da66e6ea5ac135a78a85bebb7a13e99b220120f1a909aac">00193</a>     <a class="code" href="group___canfd_group.html#gga65c293633dae4cd996da66e6ea5ac135a78a85bebb7a13e99b220120f1a909aac">CanfdClock40MHz</a> = 1     <span class="comment">// 40MHz</span>
<a name="l00194"></a>00194 } <a class="code" href="group___canfd_group.html#ga4eb895aba504878c675eec6436bf9d73" title="CAN FD operation clock frequency.">en_canfd_clock_t</a>;
<a name="l00195"></a>00195 
<a name="l00196"></a>00196 
<a name="l00204"></a><a class="code" href="structstc__canfd__msg__id.html">00204</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structstc__canfd__msg__id.html" title="CAN message identifier.">stc_canfd_msg_id</a>
<a name="l00205"></a>00205 {
<a name="l00206"></a><a class="code" href="structstc__canfd__msg__id.html#af032ffb5b2b34099bf12d8b355de8808">00206</a>     uint32_t    <a class="code" href="structstc__canfd__msg__id.html#af032ffb5b2b34099bf12d8b355de8808">u32Identifier</a>;      <span class="comment">// 11- or 29-bit identifier. The valid bit length depends on bExtended.</span>
<a name="l00207"></a><a class="code" href="structstc__canfd__msg__id.html#a8ec6f97815fe44002712bdbc388af0aa">00207</a>     boolean_t   <a class="code" href="structstc__canfd__msg__id.html#a8ec6f97815fe44002712bdbc388af0aa">bExtended</a>;          <span class="comment">// TRUE: 29-bit identifier,  FALSE: 11-bit identifier.</span>
<a name="l00208"></a>00208 } <a class="code" href="group___canfd_group.html#ga3e3fcdf8e4f94bc4262ea281e9d0c4c7" title="CAN message identifier.">stc_canfd_msg_id_t</a>;
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 
<a name="l00218"></a><a class="code" href="structstc__canfd__msg__data.html">00218</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structstc__canfd__msg__data.html" title="CAN message data.">stc_canfd_msg_data</a>
<a name="l00219"></a>00219 {
<a name="l00220"></a>00220     <span class="keyword">union</span>
<a name="l00221"></a>00221     {
<a name="l00222"></a><a class="code" href="structstc__canfd__msg__data.html#af515eabe33659f58c23ae55d74c1a38d">00222</a>         uint32_t    <a class="code" href="structstc__canfd__msg__data.html#af515eabe33659f58c23ae55d74c1a38d">au32Data</a>[<a class="code" href="group___canfd_group.html#ga2a261fee136b0bc1ec7d48a8ee2874f6" title="Size of data word in a receive or transmit operation.">CANFD_MESSAGE_DATA_BUFFER_SIZEW</a>];  <span class="comment">// Data of CAN message.</span>
<a name="l00223"></a><a class="code" href="structstc__canfd__msg__data.html#a5da3f7771eb4d6698b793a286e5379a3">00223</a>         uint8_t     <a class="code" href="structstc__canfd__msg__data.html#a5da3f7771eb4d6698b793a286e5379a3">au8Data</a>[<a class="code" href="group___canfd_group.html#gab224ef5ecc79b6c1b2ef5315e5282d50" title="Size of data bytes in a receive or transmit operation.">CANFD_MESSAGE_DATA_BUFFER_SIZE</a>];    <span class="comment">// Data of CAN message.</span>
<a name="l00224"></a>00224     };
<a name="l00225"></a><a class="code" href="structstc__canfd__msg__data.html#ac2c74b9e466ad9f2f78e7969d795134e">00225</a>     uint8_t <a class="code" href="structstc__canfd__msg__data.html#ac2c74b9e466ad9f2f78e7969d795134e">u8DataLengthCode</a>;                                   <span class="comment">// Number of valid bytes in au8Data and DLC of CAN message.</span>
<a name="l00226"></a>00226 } <a class="code" href="group___canfd_group.html#ga7a6620e3b850b8fd05543abd7dafb585" title="CAN message data.">stc_canfd_msg_data_t</a>;
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 
<a name="l00236"></a><a class="code" href="group___canfd_group.html#ga4b9b6b989356077330126930b7fe17a0">00236</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="group___canfd_group.html#ga4b9b6b989356077330126930b7fe17a0" title="CAN FD module status.">en_canfd_status</a>
<a name="l00237"></a>00237 {
<a name="l00238"></a><a class="code" href="group___canfd_group.html#gga4b9b6b989356077330126930b7fe17a0a381cf99830455f03c81c218061530c6b">00238</a>     <a class="code" href="group___canfd_group.html#gga4b9b6b989356077330126930b7fe17a0a381cf99830455f03c81c218061530c6b">CanfdBusOff</a>  = 0,   <span class="comment">// The CAN FD module is in busoff state.</span>
<a name="l00239"></a><a class="code" href="group___canfd_group.html#gga4b9b6b989356077330126930b7fe17a0a2c7f9a417e1325c62aea7eafce79ebaa">00239</a>     <a class="code" href="group___canfd_group.html#gga4b9b6b989356077330126930b7fe17a0a2c7f9a417e1325c62aea7eafce79ebaa">CanfdWarning</a> = 1    <span class="comment">// At least one error counter has reached error warning limit of 96.</span>
<a name="l00240"></a>00240 } <a class="code" href="group___canfd_group.html#gad0121ab441788a5bf99b593c3764d680" title="CAN FD module status.">en_canfd_status_t</a>;
<a name="l00241"></a>00241 
<a name="l00242"></a>00242 
<a name="l00252"></a><a class="code" href="group___canfd_group.html#gaff573b610f0580fc315aeb9d5afc1995">00252</a> <span class="preprocessor">#define CANFD_ERROR_STE     (1UL &lt;&lt; 31)     // [bit31] STE : Stuff Error / More than 5 equal bits in a sequence occurred.</span>
<a name="l00253"></a><a class="code" href="group___canfd_group.html#ga49b4378ea3af313930bd14346cc3be6e">00253</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_ERROR_FOE     (1UL &lt;&lt; 30)     // [bit30] FOE : Format Error / A fixed format part of a received frame has the wrong format.</span>
<a name="l00254"></a><a class="code" href="group___canfd_group.html#ga022b7d38bfee1768f696fa8b53556a27">00254</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_ERROR_ACKE    (1UL &lt;&lt; 29)     // [bit29] ACKE: Acknowledge Error / A transmitted message was not acknowledged by another node.</span>
<a name="l00255"></a><a class="code" href="group___canfd_group.html#gab4223c5fe8ba9e58ad3195d0afa5ac24">00255</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_ERROR_BE      (1UL &lt;&lt; 28)     // [bit28] BE  : Bit Error / CAN FD Controller wanted to send a recessive/dominant level, but monitored bus level was dominant/recessive.</span>
<a name="l00256"></a><a class="code" href="group___canfd_group.html#ga29ab5e97dd4a1b4756616fff78b9c1bc">00256</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_ERROR_CRCE    (1UL &lt;&lt; 27)     // [bit27] CRCE: CRC Error / Received CRC did not match the calculated CRC.</span>
<a name="l00257"></a><a class="code" href="group___canfd_group.html#ga139c291ed46f2d410c2bd86dc28a48bf">00257</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_ERROR_WDI     (1UL &lt;&lt; 26)     // [bit26] WDI : Watchdog Interrupt / Message RAM Watchdog event due to missing READY from Message RAM.</span>
<a name="l00258"></a><a class="code" href="group___canfd_group.html#gac8951ebbfef737a5e640fde694b7bd0d">00258</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_ERROR_ELO     (1UL &lt;&lt; 22)     // [bit22] ELO : Error Logging Overflow / Overflow of CAN Error Logging Counter (ECR.CEL[7:0]) occurred.</span>
<a name="l00259"></a><a class="code" href="group___canfd_group.html#ga8af530ab041b28d3daf5155162a0d1d7">00259</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_ERROR_BEU     (1UL &lt;&lt; 21)     // [bit21] BEU : Bit Error Uncorrected / Bit error detected, but could not be corrected.</span>
<a name="l00260"></a><a class="code" href="group___canfd_group.html#ga4a5966d2f5bc9726921c94993b0c8794">00260</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_ERROR_BEC     (1UL &lt;&lt; 20)     // [bit20] BEC : Bit Error Corrected / Bit error detected and corrected by ECC logic.</span>
<a name="l00261"></a><a class="code" href="group___canfd_group.html#ga6ba86109b71e7b4ce1ea2372d3039ea4">00261</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_ERROR_TOO     (1UL &lt;&lt; 18)     // [bit18] TOO : Timeout Occurred / Timeout reached.</span>
<a name="l00262"></a><a class="code" href="group___canfd_group.html#ga793c823369772a4bb0ff84d490e30dbf">00262</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_ERROR_MRAF    (1UL &lt;&lt; 17)     // [bit17] MRAF: Message RAM Access Failure / Message RAM access failure occurred.</span>
<a name="l00263"></a><a class="code" href="group___canfd_group.html#gacb815bdba3dee6105b8f385ec353bf2c">00263</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_ERROR_TEFL    (1UL &lt;&lt; 15)     // [bit15] TEFL: Tx Event FIFO Element Lost / Tx Event FIFO element lost. Also set after write attempt to Tx Event FIFO of size zero.</span>
<a name="l00264"></a><a class="code" href="group___canfd_group.html#ga0244b3291a2ef88f69364a76e2f0f0fd">00264</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_ERROR_RF1L    (1UL &lt;&lt;  7)     // [bit7]  RF1L: Rx FIFO 1 Message Lost / Rx FIFO 1 message lost. Also set after write attempt to Rx FIFO 1 of size zero.</span>
<a name="l00265"></a><a class="code" href="group___canfd_group.html#gac5c40e3e55dfa60e4cbfa03c8c678fbe">00265</a> <span class="preprocessor"></span><span class="preprocessor">#define CANFD_ERROR_RF0L    (1UL &lt;&lt;  3)     // [bit3]  RF0L: Rx FIFO 0 Message Lost / Rx FIFO 0 message lost. Also set after write attempt to Rx FIFO 0 of size zero.</span>
<a name="l00266"></a>00266 <span class="preprocessor"></span>
<a name="l00267"></a>00267 
<a name="l00276"></a><a class="code" href="structstc__canfd__msg.html">00276</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structstc__canfd__msg.html" title="CAN message.">stc_canfd_msg</a>
<a name="l00277"></a>00277 {
<a name="l00278"></a><a class="code" href="structstc__canfd__msg.html#a34167e2ec8c6ad650a0f1d8d7e4a9e95">00278</a>     <a class="code" href="structstc__canfd__msg__id.html" title="CAN message identifier.">stc_canfd_msg_id_t</a>      <a class="code" href="structstc__canfd__msg.html#a34167e2ec8c6ad650a0f1d8d7e4a9e95">stcIdentifier</a>;  <span class="comment">// 11- or 29-bit identifier (ID).</span>
<a name="l00279"></a><a class="code" href="structstc__canfd__msg.html#a380df6211e1a99aa82399ff9730955eb">00279</a>     <a class="code" href="structstc__canfd__msg__data.html" title="CAN message data.">stc_canfd_msg_data_t</a>    <a class="code" href="structstc__canfd__msg.html#a380df6211e1a99aa82399ff9730955eb">stcData</a>;        <span class="comment">// Data and DLC.</span>
<a name="l00280"></a><a class="code" href="structstc__canfd__msg.html#ac2af3b3d3acc90bd3e5857817735a4cc">00280</a>     boolean_t               <a class="code" href="structstc__canfd__msg.html#ac2af3b3d3acc90bd3e5857817735a4cc">bCanfd</a>;         <span class="comment">// TRUE : DLC is extended, FALSE : Normal DLC</span>
<a name="l00281"></a>00281                                             <span class="comment">// (valid received message only.)</span>
<a name="l00282"></a>00282 } <a class="code" href="group___canfd_group.html#ga44909a3d78a2ad99b3722b9f28216fc8" title="CAN message.">stc_canfd_msg_t</a>;
<a name="l00283"></a>00283 
<a name="l00284"></a>00284 
<a name="l00291"></a><a class="code" href="group___canfd_group.html#ga7b18901381f6123b6b888775c84c8997">00291</a> <span class="keyword">typedef</span> void (*<a class="code" href="group___canfd_group.html#ga7b18901381f6123b6b888775c84c8997" title="Message transmission complete callback function (canfd_tx_msg_func_ptr_t).">canfd_tx_msg_func_ptr_t</a>)( uint8_t u8MsgBuf );
<a name="l00292"></a>00292 
<a name="l00293"></a>00293 
<a name="l00300"></a><a class="code" href="group___canfd_group.html#ga44e95309b8a5ebc9a99b79ae83da83b4">00300</a> <span class="keyword">typedef</span> void (*<a class="code" href="group___canfd_group.html#ga44e95309b8a5ebc9a99b79ae83da83b4" title="Message reception callback function (canfd_rx_msg_func_ptr_t).">canfd_rx_msg_func_ptr_t</a>)( uint8_t u8MsgBuf, <a class="code" href="structstc__canfd__msg.html" title="CAN message.">stc_canfd_msg_t</a>* pstcRxMsg );
<a name="l00301"></a>00301 
<a name="l00302"></a>00302 
<a name="l00310"></a><a class="code" href="group___canfd_group.html#gac12cd3da609b054f6fd2f3b4a1f40f4c">00310</a> <span class="keyword">typedef</span> void (*<a class="code" href="group___canfd_group.html#gac12cd3da609b054f6fd2f3b4a1f40f4c" title="Status changed callback function (canfd_status_chg_func_ptr_t).">canfd_status_chg_func_ptr_t</a>)( <a class="code" href="group___canfd_group.html#gad0121ab441788a5bf99b593c3764d680" title="CAN FD module status.">en_canfd_status_t</a> enCanfdStatus );
<a name="l00311"></a>00311 
<a name="l00312"></a>00312 
<a name="l00319"></a><a class="code" href="group___canfd_group.html#gac8080707596f79e44dbd53cc1f09517a">00319</a> <span class="keyword">typedef</span> void (*<a class="code" href="group___canfd_group.html#gac8080707596f79e44dbd53cc1f09517a" title="Error callback function (canfd_error_func_ptr_t).">canfd_error_func_ptr_t</a>)( uint32_t u32CanfdError );
<a name="l00320"></a>00320 
<a name="l00321"></a>00321 
<a name="l00329"></a><a class="code" href="structstc__canfd__interrupt__handling.html">00329</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structstc__canfd__interrupt__handling.html" title="CAN FD interrupt pointer structure.">stc_canfd_interrupt_handling</a>
<a name="l00330"></a>00330 {
<a name="l00331"></a><a class="code" href="structstc__canfd__interrupt__handling.html#a082c7eea971d86518f564398753916be">00331</a>     <a class="code" href="group___canfd_group.html#ga7b18901381f6123b6b888775c84c8997" title="Message transmission complete callback function (canfd_tx_msg_func_ptr_t).">canfd_tx_msg_func_ptr_t</a> <a class="code" href="structstc__canfd__interrupt__handling.html#a082c7eea971d86518f564398753916be">pfnCanfdTxInterruptFunction</a>;    <span class="comment">// pointer to transmit interrupt callback</span>
<a name="l00332"></a><a class="code" href="structstc__canfd__interrupt__handling.html#a001881256e1a90faef6985e27ebb5135">00332</a>     <a class="code" href="group___canfd_group.html#ga44e95309b8a5ebc9a99b79ae83da83b4" title="Message reception callback function (canfd_rx_msg_func_ptr_t).">canfd_rx_msg_func_ptr_t</a> <a class="code" href="structstc__canfd__interrupt__handling.html#a001881256e1a90faef6985e27ebb5135">pfnCanfdRxInterruptFunction</a>;    <span class="comment">// pointer to receive interrupt callback</span>
<a name="l00333"></a>00333 } <a class="code" href="group___canfd_group.html#ga6f185ec1cc5bb926c462b7ac10a2fcdf" title="CAN FD interrupt pointer structure.">stc_canfd_interrupt_handling_t</a>;
<a name="l00334"></a>00334 
<a name="l00335"></a>00335 
<a name="l00342"></a><a class="code" href="structstc__canfd__notification.html">00342</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structstc__canfd__notification.html" title="CAN FD notification pointer structure.">stc_canfd_notification</a>
<a name="l00343"></a>00343 {
<a name="l00344"></a><a class="code" href="structstc__canfd__notification.html#aded02118d4b73cf3dcf442262d248826">00344</a>     <a class="code" href="group___canfd_group.html#gac12cd3da609b054f6fd2f3b4a1f40f4c" title="Status changed callback function (canfd_status_chg_func_ptr_t).">canfd_status_chg_func_ptr_t</a> <a class="code" href="structstc__canfd__notification.html#aded02118d4b73cf3dcf442262d248826">pfnCanfdStatusInterruptFunction</a> ;
<a name="l00345"></a><a class="code" href="structstc__canfd__notification.html#aa4f08b1eb762646a073c71542e84954c">00345</a>     <a class="code" href="group___canfd_group.html#gac8080707596f79e44dbd53cc1f09517a" title="Error callback function (canfd_error_func_ptr_t).">canfd_error_func_ptr_t</a>      <a class="code" href="structstc__canfd__notification.html#aa4f08b1eb762646a073c71542e84954c">pfnCanfdErrorInterruptFunction</a> ;
<a name="l00346"></a>00346 } <a class="code" href="group___canfd_group.html#gae99b31550f2cd3f0debec729c6dd60c4" title="CAN FD notification pointer structure.">stc_canfd_notification_t</a>;
<a name="l00347"></a>00347 
<a name="l00348"></a>00348 
<a name="l00357"></a><a class="code" href="structstc__canfd__config.html">00357</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structstc__canfd__config.html" title="CAN FD configuration.">stc_canfd_config</a>
<a name="l00358"></a>00358 {
<a name="l00359"></a><a class="code" href="structstc__canfd__config.html#aaa14fe2b9aff3dba4c4ed9c755642cfd">00359</a>     <a class="code" href="group___canfd_group.html#gab7f920ecaa9011fe38e2e1cee93550e7" title="CAN operation mode.">en_canfd_mode_t</a>             <a class="code" href="structstc__canfd__config.html#aaa14fe2b9aff3dba4c4ed9c755642cfd">enCanfdMode</a>;            <span class="comment">// CAN operation mode.</span>
<a name="l00360"></a><a class="code" href="structstc__canfd__config.html#a7bb935c505c34ebaf6e7353a26336690">00360</a>     <a class="code" href="group___canfd_group.html#ga4eb895aba504878c675eec6436bf9d73" title="CAN FD operation clock frequency.">en_canfd_clock_t</a>            <a class="code" href="structstc__canfd__config.html#a7bb935c505c34ebaf6e7353a26336690">enCanfdClock</a>;           <span class="comment">// CAN FD operation clock (prescaler output).</span>
<a name="l00361"></a><a class="code" href="structstc__canfd__config.html#a28f62d9a5b30c0665cc447ab532d8c94">00361</a>     <a class="code" href="group___canfd_group.html#ga44e95309b8a5ebc9a99b79ae83da83b4" title="Message reception callback function (canfd_rx_msg_func_ptr_t).">canfd_rx_msg_func_ptr_t</a>     <a class="code" href="structstc__canfd__config.html#a28f62d9a5b30c0665cc447ab532d8c94">pfnReceiveMsgCallback</a>;  <span class="comment">// Callback function for receive message, can be NULL.</span>
<a name="l00362"></a><a class="code" href="structstc__canfd__config.html#a2d8dd925c6eabb4e4fee59b065c8a416">00362</a>     <a class="code" href="group___canfd_group.html#ga7b18901381f6123b6b888775c84c8997" title="Message transmission complete callback function (canfd_tx_msg_func_ptr_t).">canfd_tx_msg_func_ptr_t</a>     <a class="code" href="structstc__canfd__config.html#a2d8dd925c6eabb4e4fee59b065c8a416">pfnTransmitMsgCallback</a>; <span class="comment">// Callback function for transmit message, can be NULL.</span>
<a name="l00363"></a><a class="code" href="structstc__canfd__config.html#af84b0aff4e7ef90830e953ba3dfd45b4">00363</a>     <a class="code" href="group___canfd_group.html#gac12cd3da609b054f6fd2f3b4a1f40f4c" title="Status changed callback function (canfd_status_chg_func_ptr_t).">canfd_status_chg_func_ptr_t</a> <a class="code" href="structstc__canfd__config.html#af84b0aff4e7ef90830e953ba3dfd45b4">pfnStatusCallback</a>;      <span class="comment">// Callback function for CAN FD status changes, can be NULL.</span>
<a name="l00364"></a><a class="code" href="structstc__canfd__config.html#a3befa4f2a9d7f8d3c990c5f0aa7384ec">00364</a>     <a class="code" href="group___canfd_group.html#gac8080707596f79e44dbd53cc1f09517a" title="Error callback function (canfd_error_func_ptr_t).">canfd_error_func_ptr_t</a>      <a class="code" href="structstc__canfd__config.html#a3befa4f2a9d7f8d3c990c5f0aa7384ec">pfnErrorCallback</a>;       <span class="comment">// Callback function for CAN FD related errors, can be NULL.</span>
<a name="l00365"></a>00365 } <a class="code" href="group___canfd_group.html#ga98016202c9869212ebfac94944cc0139" title="CAN FD configuration.">stc_canfd_config_t</a>;
<a name="l00366"></a>00366 
<a name="l00367"></a>00367 
<a name="l00368"></a>00368 <span class="comment">/******************************************************************************/</span>
<a name="l00369"></a>00369 <span class="comment">/* Global variable declarations (&#39;extern&#39;, definition in C source)            */</span>
<a name="l00370"></a>00370 <span class="comment">/******************************************************************************/</span>
<a name="l00371"></a>00371 
<a name="l00372"></a>00372 
<a name="l00373"></a>00373 <span class="comment">/******************************************************************************/</span>
<a name="l00374"></a>00374 <span class="comment">/* Global function prototypes (&#39;extern&#39;, definition in C source)              */</span>
<a name="l00375"></a>00375 <span class="comment">/******************************************************************************/</span>
<a name="l00376"></a>00376 
<a name="l00377"></a>00377 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group___canfd_group.html#gad7c22e5694188d4711a5bac784b55dd7" title="CAN FD (Status/Error/Rx/Tx) interrupt ISR.">CanfdIrqHandler</a>( <span class="keyword">volatile</span> <a class="code" href="group___canfd_group.html#ga2728e3b895d6b89ed475573dff17ffcd">stc_canfdn_t</a>* pstcCanfd );
<a name="l00378"></a>00378 
<a name="l00379"></a>00379 <span class="keyword">extern</span> en_result_t <a class="code" href="group___canfd_group.html#ga5362c5106dfb58559cfdc4c23eda770c" title="Initializes the CAN FD module.">Canfd_Init</a>( <span class="keyword">volatile</span> <a class="code" href="group___canfd_group.html#ga2728e3b895d6b89ed475573dff17ffcd">stc_canfdn_t</a>* pstcCanfd,
<a name="l00380"></a>00380                                <span class="keyword">const</span> <a class="code" href="structstc__canfd__config.html" title="CAN FD configuration.">stc_canfd_config_t</a>* pstcConfig
<a name="l00381"></a>00381                              );
<a name="l00382"></a>00382 
<a name="l00383"></a>00383 <span class="keyword">extern</span> en_result_t <a class="code" href="group___canfd_group.html#ga3a7ac0f591a08fbd280b72b0b36ef998" title="Deinitializes the CAN FD module. Any pending transmission or receiption will be aborted and all CAN F...">Canfd_DeInit</a>( <span class="keyword">volatile</span> <a class="code" href="group___canfd_group.html#ga2728e3b895d6b89ed475573dff17ffcd">stc_canfdn_t</a>* pstcCanfd );
<a name="l00384"></a>00384 
<a name="l00385"></a>00385 <span class="keyword">extern</span> en_result_t <a class="code" href="group___canfd_group.html#ga3b37e1c1b9a5a253a13775662198d233" title="Start communication. Start (enable) CAN communication.">Canfd_Start</a>( <span class="keyword">volatile</span> <a class="code" href="group___canfd_group.html#ga2728e3b895d6b89ed475573dff17ffcd">stc_canfdn_t</a>* pstcCanfd );
<a name="l00386"></a>00386 
<a name="l00387"></a>00387 <span class="keyword">extern</span> en_result_t <a class="code" href="group___canfd_group.html#ga550cd0141aa72ab5759d3f240e254008" title="Stop communication. Stop (disable) CAN communication. Any pending transmission or receiption will be ...">Canfd_Stop</a>( <span class="keyword">volatile</span> <a class="code" href="group___canfd_group.html#ga2728e3b895d6b89ed475573dff17ffcd">stc_canfdn_t</a>* pstcCanfd );
<a name="l00388"></a>00388 
<a name="l00389"></a>00389 <span class="keyword">extern</span> en_result_t <a class="code" href="group___canfd_group.html#gad1d04a3b4fa4d48cc88a9cce2c28d655" title="Restart communication. Restart CAN communication. This funnction stops and starts communication...">Canfd_Restart</a>( <span class="keyword">volatile</span> <a class="code" href="group___canfd_group.html#ga2728e3b895d6b89ed475573dff17ffcd">stc_canfdn_t</a>* pstcCanfd );
<a name="l00390"></a>00390 
<a name="l00391"></a>00391 <span class="keyword">extern</span> en_result_t <a class="code" href="group___canfd_group.html#ga24c563327f19f4d383273c044f1743c6" title="Configures a message buffer for transmission. Setting of new values is not possible if a transmission...">Canfd_TransmitMsg</a>( <span class="keyword">volatile</span> <a class="code" href="group___canfd_group.html#ga2728e3b895d6b89ed475573dff17ffcd">stc_canfdn_t</a>* pstcCanfd,
<a name="l00392"></a>00392                                       uint8_t u8MsgBuf,
<a name="l00393"></a>00393                                       <a class="code" href="structstc__canfd__msg.html" title="CAN message.">stc_canfd_msg_t</a>* pstcMsg
<a name="l00394"></a>00394                                     );
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 <span class="keyword">extern</span> en_result_t <a class="code" href="group___canfd_group.html#ga5c07091716e4644f0a81c8a912aa70b4" title="Get all received messages by polling. Check and notify all received messages by polling.">Canfd_ReceiveMsg</a>( <span class="keyword">volatile</span> <a class="code" href="group___canfd_group.html#ga2728e3b895d6b89ed475573dff17ffcd">stc_canfdn_t</a>* pstcCanfd );
<a name="l00397"></a>00397 
<a name="l00398"></a>00398 <span class="keyword">extern</span> en_result_t <a class="code" href="group___canfd_group.html#gac652e16946c1eb838406d03cabac1f13" title="Get current bus status.">Canfd_GetBusStatus</a>( <span class="keyword">volatile</span> <a class="code" href="group___canfd_group.html#ga2728e3b895d6b89ed475573dff17ffcd">stc_canfdn_t</a>* pstcCanfd );
<a name="l00399"></a>00399 
<a name="l00400"></a>00400 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00401"></a>00401 <span class="preprocessor"></span>}
<a name="l00402"></a>00402 <span class="preprocessor">#endif</span>
<a name="l00403"></a>00403 <span class="preprocessor"></span>
<a name="l00405"></a>00405 
<a name="l00406"></a>00406 <span class="preprocessor">#endif // #if (defined(PDL_PERIPHERAL_CANFD_ACTIVE))</span>
<a name="l00407"></a>00407 <span class="preprocessor"></span>
<a name="l00408"></a>00408 <span class="preprocessor">#endif </span><span class="comment">/* __CANFD_H__ */</span>
<a name="l00409"></a>00409 <span class="comment">/******************************************************************************/</span>
<a name="l00410"></a>00410 <span class="comment">/* EOF (not truncated)                                                        */</span>
<a name="l00411"></a>00411 <span class="comment">/******************************************************************************/</span>
</pre></div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="canfd_8h.html">canfd.h</a>      </li>

    <li class="footer">Generated on Tue Sep 29 2015 15:06:37 for PDL for FM Family by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
